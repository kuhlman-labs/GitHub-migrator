@import "tailwindcss";

/* Primer Primitives - Base tokens */
@import '@primer/primitives/dist/css/base/size/size.css';
@import '@primer/primitives/dist/css/base/typography/typography.css';
@import '@primer/primitives/dist/css/functional/size/border.css';
@import '@primer/primitives/dist/css/functional/size/breakpoints.css';
@import '@primer/primitives/dist/css/functional/size/size.css';
@import '@primer/primitives/dist/css/functional/size/viewport.css';
@import '@primer/primitives/dist/css/functional/typography/typography.css';

/* Primer Primitives - Color themes */
@import '@primer/primitives/dist/css/functional/themes/light.css';
@import '@primer/primitives/dist/css/functional/themes/dark.css';
@import '@primer/primitives/dist/css/functional/themes/dark-dimmed.css';

@theme {
  /* Primer-aligned Color System */
  
  /* Foreground Colors */
  --color-gh-text-primary: #1F2328;
  --color-gh-text-secondary: #656D76;
  --color-gh-text-muted: #8C959F;
  --color-gh-text-link: #0969DA;
  --color-gh-text-on-emphasis: #FFFFFF;
  
  /* Canvas/Background Colors */
  --color-gh-canvas-default: #F6F8FA;
  --color-gh-canvas-raised: #FFFFFF;
  --color-gh-canvas-inset: #F6F8FA;
  --color-gh-canvas-subtle: #F6F8FA;
  
  /* Border Colors */
  --color-gh-border-default: #D1D9E0;
  --color-gh-border-muted: #E5E9ED;
  --color-gh-border-hover: #8C959F;
  
  /* Header */
  --color-gh-header-bg: #0D1117;
  --color-gh-header-text: #FFFFFF;
  
  /* Accent Colors (Primary Actions - Blue) */
  --color-gh-accent-fg: #0969DA;
  --color-gh-accent-emphasis: #0969DA;
  --color-gh-accent-subtle: #DFF7FF;
  --color-gh-accent-muted: rgba(84, 174, 255, 0.4);
  
  /* Success Colors (Green) */
  --color-gh-success-fg: #1F883D;
  --color-gh-success-emphasis: #1F883D;
  --color-gh-success-subtle: #DFF7E6;
  --color-gh-success-muted: rgba(74, 194, 107, 0.4);
  
  /* Danger Colors (Red) */
  --color-gh-danger-fg: #D1242F;
  --color-gh-danger-emphasis: #CF222E;
  --color-gh-danger-subtle: #FFEBE9;
  --color-gh-danger-muted: rgba(255, 129, 130, 0.4);
  
  /* Attention Colors (Yellow/Orange) */
  --color-gh-attention-fg: #9A6700;
  --color-gh-attention-emphasis: #BF8700;
  --color-gh-attention-subtle: #FFF8C5;
  --color-gh-attention-muted: rgba(212, 167, 44, 0.4);
  
  /* Done/Purple Colors */
  --color-gh-done-fg: #8250DF;
  --color-gh-done-emphasis: #8250DF;
  --color-gh-done-subtle: #FBF0FF;
  --color-gh-done-muted: rgba(194, 151, 255, 0.4);
  
  /* Sponsor Colors (Pink) */
  --color-gh-sponsors-fg: #BF3989;
  --color-gh-sponsors-emphasis: #BF3989;
  --color-gh-sponsors-subtle: #FFEFF7;
  --color-gh-sponsors-muted: rgba(255, 128, 200, 0.4);
}

:root {
  /* Override Primer's font stacks to include GitHub brand fonts */
  --fontStack-sansSerif: 'Mona Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';
  --fontStack-monospace: 'Monaspace Neon', ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, Liberation Mono, monospace;
  --fontStack-system: 'Mona Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';
  --fontStack-sansSerifDisplay: 'Mona Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';
  
  /* Use Primer's typography tokens as base */
  font-family: var(--fontStack-sansSerif);
  font-weight: var(--base-text-weight-normal); /* 400 - normal weight for body text */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Screen reader only utility for accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.focus\:not-sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

html {
  /* Prevent layout shift when scrollbar appears/disappears */
  overflow-y: scroll;
  scrollbar-gutter: stable;
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: #F6F8FA;
  color: #1F2328;
  /* Use Primer's body text size token */
  font-size: var(--text-body-size-medium); /* 0.875rem = 14px */
  line-height: var(--text-body-lineHeight-medium); /* 1.42857 â‰ˆ 20px */
  font-weight: var(--text-body-weight); /* 400 - normal */
}

code, pre {
  /* Use Primer's monospace font stack */
  font-family: var(--fontStack-monospace);
  font-weight: var(--text-codeBlock-weight); /* 400 - normal weight */
}

/* Inline code gets slightly different treatment */
code {
  font-size: var(--text-codeInline-size); /* 0.9285em - relative to parent */
  font-weight: var(--text-codeInline-weight); /* 400 - normal */
}

/* Code blocks */
pre {
  font-size: var(--text-codeBlock-size); /* 0.8125rem = 13px */
  line-height: var(--text-codeBlock-lineHeight); /* 1.5385 */
}

/* GitHub-style focus rings */
*:focus-visible {
  outline: 2px solid #3094FF;
  outline-offset: 2px;
}

/* GitHub-style form inputs - exclude Primer components */
input[type="text"]:not([class*="TextInput"]),
input[type="email"]:not([class*="TextInput"]),
input[type="password"]:not([class*="TextInput"]),
input[type="search"]:not([class*="TextInput"]),
input[type="number"]:not([class*="TextInput"]),
textarea:not([class*="TextInput"]),
select:not([class*="Select"]) {
  background-color: #F6F8FA;
  border: 1px solid #D1D9E0;
  color: #1F2328;
}

input:not([class*="TextInput"]):focus,
textarea:not([class*="TextInput"]):focus,
select:not([class*="Select"]):focus {
  outline: none;
  background-color: #FFFFFF;
  border-color: #3094FF;
  box-shadow: 0 0 0 3px rgba(48, 148, 255, 0.3);
}

/* Primer TextInput with leading icon styling */
/* Style the wrapper to contain both icon and input with border */
span[class*="TextInput-wrapper"] {
  display: inline-flex !important;
  align-items: center !important;
  border: 1px solid var(--borderColor-default, #D1D9E0) !important;
  border-radius: 6px !important;
  background-color: transparent !important;
  padding: 0 !important;
  overflow: hidden !important;
  transition: all 0.2s ease !important;
}

span[class*="TextInput-wrapper"]:hover {
  border-color: var(--borderColor-emphasis, #8C959F) !important;
}

span[class*="TextInput-wrapper"]:focus-within {
  border-color: var(--focus-outlineColor, #3094FF) !important;
  background-color: var(--bgColor-default, #FFFFFF) !important;
  box-shadow: 0 0 0 3px rgba(48, 148, 255, 0.3) !important;
}

/* Icon inside the wrapper */
span[class*="TextInput-wrapper"] svg {
  margin-left: 12px !important;
  margin-right: 0 !important;
  flex-shrink: 0 !important;
  color: var(--fgColor-muted, #656D76) !important;
  transition: color 0.2s ease !important;
}

span[class*="TextInput-wrapper"]:focus-within svg {
  color: var(--fgColor-default, #24292F) !important;
}

/* Input itself - remove border and add padding */
span[class*="TextInput-wrapper"] input {
  border: none !important;
  background: transparent !important;
  padding: 5px 12px !important;
  flex: 1 !important;
  outline: none !important;
  box-shadow: none !important;
  color: var(--fgColor-default, #24292F) !important;
}

span[class*="TextInput-wrapper"] input::placeholder {
  color: var(--fgColor-muted, #656D76) !important;
  opacity: 0.8 !important;
}

span[class*="TextInput-wrapper"] input:focus {
  outline: none !important;
  box-shadow: none !important;
}

/* Primer Label (Badge) color styling */
/* Ensure Primer Labels have proper background colors */
/* Target both class selectors and attribute selectors that Primer might use */
span[class*="Label"],
.Label,
[data-component="Label"] {
  font-weight: 500 !important;
  border: 1px solid transparent !important;
  display: inline-block !important;
  padding: 0 7px !important;
  font-size: 12px !important;
  line-height: 18px !important;
  border-radius: 2em !important;
  white-space: nowrap !important;
}

/* Default / Neutral */
span[class*="Label"][class*="default"],
.Label--default,
[data-variant="default"] {
  background-color: #656D76 !important;
  color: #FFFFFF !important;
}

/* Primary */
span[class*="Label"][class*="primary"],
.Label--primary,
[data-variant="primary"] {
  background-color: #0969DA !important;
  color: #FFFFFF !important;
}

/* Secondary */
span[class*="Label"][class*="secondary"],
.Label--secondary,
[data-variant="secondary"] {
  background-color: #656D76 !important;
  color: #FFFFFF !important;
  opacity: 0.7 !important;
}

/* Accent (Blue) */
span[class*="Label"][class*="accent"],
.Label--accent,
[data-variant="accent"] {
  background-color: #0969DA !important;
  color: #FFFFFF !important;
}

/* Success (Green) */
span[class*="Label"][class*="success"],
.Label--success,
[data-variant="success"] {
  background-color: #1A7F37 !important;
  color: #FFFFFF !important;
}

/* Attention (Yellow/Orange) */
span[class*="Label"][class*="attention"],
.Label--attention,
[data-variant="attention"] {
  background-color: #9A6700 !important;
  color: #FFFFFF !important;
}

/* Severe (Orange/Red) */
span[class*="Label"][class*="severe"],
.Label--severe,
[data-variant="severe"] {
  background-color: #BC4C00 !important;
  color: #FFFFFF !important;
}

/* Danger (Red) */
span[class*="Label"][class*="danger"],
.Label--danger,
[data-variant="danger"] {
  background-color: #CF222E !important;
  color: #FFFFFF !important;
}

/* Done (Purple) */
span[class*="Label"][class*="done"],
.Label--done,
[data-variant="done"] {
  background-color: #8250DF !important;
  color: #FFFFFF !important;
}

/* Breadcrumbs styling - Custom implementation */
nav[aria-label="Breadcrumb"] ol {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Sponsors (Pink/Purple) */
span[class*="Label"][class*="sponsors"],
.Label--sponsors,
[data-variant="sponsors"] {
  background-color: #BF3989 !important;
  color: #FFFFFF !important;
}

/* Primer Pagination styling */
/* Ensure pagination buttons have proper GitHub styling */
nav[aria-label="Pagination"] {
  display: flex !important;
  gap: 4px !important;
}

/* Pagination buttons */
nav[aria-label="Pagination"] a,
nav[aria-label="Pagination"] button,
nav[aria-label="Pagination"] span {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 32px !important;
  height: 32px !important;
  padding: 5px 12px !important;
  font-size: 14px !important;
  line-height: 20px !important;
  color: #24292F !important;
  background-color: #FFFFFF !important;
  border: 1px solid #D1D9E0 !important;
  border-radius: 6px !important;
  text-decoration: none !important;
  font-weight: 500 !important;
  transition: all 0.2s ease !important;
}

/* Hover state */
nav[aria-label="Pagination"] a:hover,
nav[aria-label="Pagination"] button:hover:not(:disabled) {
  background-color: #F6F8FA !important;
  border-color: #8C959F !important;
  text-decoration: none !important;
}

/* Active/current page */
nav[aria-label="Pagination"] a[aria-current="page"],
nav[aria-label="Pagination"] button[aria-current="page"],
nav[aria-label="Pagination"] span[aria-current="page"] {
  background-color: #0969DA !important;
  border-color: #0969DA !important;
  color: #FFFFFF !important;
  font-weight: 600 !important;
}

/* Disabled state */
nav[aria-label="Pagination"] a[aria-disabled="true"],
nav[aria-label="Pagination"] button:disabled,
nav[aria-label="Pagination"] span[aria-disabled="true"] {
  color: #8C959F !important;
  background-color: #F6F8FA !important;
  border-color: #D1D9E0 !important;
  cursor: not-allowed !important;
  opacity: 0.6 !important;
}

/* Ellipsis */
nav[aria-label="Pagination"] span[aria-label*="..."] {
  border: none !important;
  background: transparent !important;
  pointer-events: none !important;
}

/* Custom scrollbar - GitHub style */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(140, 149, 159, 0.4);
  border-radius: 5px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(140, 149, 159, 0.6);
  background-clip: padding-box;
}

/* Custom checkbox styling */
.custom-checkbox {
  appearance: none;
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  border: 1px solid #D1D9E0;
  border-radius: 3px;
  background-color: #F6F8FA;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

.custom-checkbox:hover {
  border-color: #8C959F;
}

.custom-checkbox:checked {
  background-color: #0969DA;
  border-color: #0969DA;
}

.custom-checkbox:checked::after {
  content: '';
  position: absolute;
  left: 5px;
  top: 2px;
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Checkbox on blue background - inverted colors */
.custom-checkbox.on-blue {
  background-color: white;
  border-color: white;
}

.custom-checkbox.on-blue:hover {
  background-color: rgba(255, 255, 255, 0.9);
  border-color: rgba(255, 255, 255, 0.9);
}

.custom-checkbox.on-blue:checked {
  background-color: white;
  border-color: white;
}

.custom-checkbox.on-blue:checked::after {
  border-color: #3094FF;
}

/* Ensure Primer checkboxes render correctly */
input[type="checkbox"]:not(.custom-checkbox) {
  appearance: auto !important;
  -webkit-appearance: auto !important;
}

/* Primer checkbox specific overrides */
.FormControl-checkbox {
  appearance: auto !important;
  -webkit-appearance: auto !important;
}

