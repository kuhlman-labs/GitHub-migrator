{
  "openapi": "3.0.3",
  "info": {
    "title": "GitHub Migrator API",
    "description": "API for managing repository discovery, profiling, batch organization, and migration execution between GitHub instances.",
    "version": "1.1.0",
    "contact": {
      "name": "GitHub Migrator"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Local development server"
    }
  ],
  "tags": [
    {
      "name": "health",
      "description": "Health check endpoints"
    },
    {
      "name": "config",
      "description": "Application configuration"
    },
    {
      "name": "auth",
      "description": "Authentication and authorization"
    },
    {
      "name": "setup",
      "description": "Initial setup and configuration"
    },
    {
      "name": "discovery",
      "description": "Repository discovery operations"
    },
    {
      "name": "repositories",
      "description": "Repository management"
    },
    {
      "name": "organizations",
      "description": "Organization information"
    },
    {
      "name": "dashboard",
      "description": "Dashboard data"
    },
    {
      "name": "batches",
      "description": "Batch management for grouped migrations"
    },
    {
      "name": "migrations",
      "description": "Migration execution and tracking"
    },
    {
      "name": "analytics",
      "description": "Analytics and reporting"
    },
    {
      "name": "ado",
      "description": "Azure DevOps specific operations"
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "tags": ["health"],
        "summary": "Health check",
        "description": "Check if the server is healthy and running",
        "operationId": "getHealth",
        "responses": {
          "200": {
            "description": "Server is healthy",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "healthy"
                    },
                    "time": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/config": {
      "get": {
        "tags": ["config"],
        "summary": "Get application config",
        "description": "Returns application-level configuration for the frontend",
        "operationId": "getConfig",
        "responses": {
          "200": {
            "description": "Application configuration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "source_type": {
                      "type": "string",
                      "enum": ["github", "azuredevops"],
                      "example": "github"
                    },
                    "auth_enabled": {
                      "type": "boolean",
                      "example": true
                    },
                    "entraid_enabled": {
                      "type": "boolean",
                      "example": false
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "get": {
        "tags": ["auth"],
        "summary": "Initiate OAuth login",
        "description": "Redirects user to GitHub OAuth authorization page",
        "operationId": "authLogin",
        "responses": {
          "302": {
            "description": "Redirect to GitHub OAuth"
          }
        }
      }
    },
    "/api/v1/auth/callback": {
      "get": {
        "tags": ["auth"],
        "summary": "OAuth callback",
        "description": "Handles OAuth callback from GitHub and issues JWT token",
        "operationId": "authCallback",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to frontend with token"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/api/v1/auth/config": {
      "get": {
        "tags": ["auth"],
        "summary": "Get auth configuration",
        "description": "Returns authentication configuration for the frontend",
        "operationId": "getAuthConfig",
        "responses": {
          "200": {
            "description": "Auth configuration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean"
                    },
                    "login_url": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": ["auth"],
        "summary": "Logout user",
        "description": "Invalidates user session",
        "operationId": "authLogout",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "Successfully logged out"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/api/v1/auth/user": {
      "get": {
        "tags": ["auth"],
        "summary": "Get current user",
        "description": "Returns information about the currently authenticated user",
        "operationId": "getCurrentUser",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "Current user info",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": ["auth"],
        "summary": "Refresh token",
        "description": "Refreshes the authentication token",
        "operationId": "refreshToken",
        "security": [{"bearerAuth": []}],
        "responses": {
          "200": {
            "description": "New token issued",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string"
                    },
                    "expires_at": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/api/v1/setup/status": {
      "get": {
        "tags": ["setup"],
        "summary": "Get setup status",
        "description": "Returns current configuration status for initial setup",
        "operationId": "getSetupStatus",
        "responses": {
          "200": {
            "description": "Setup status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "configured": {
                      "type": "boolean"
                    },
                    "source_configured": {
                      "type": "boolean"
                    },
                    "destination_configured": {
                      "type": "boolean"
                    },
                    "database_configured": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/validate-source": {
      "post": {
        "tags": ["setup"],
        "summary": "Validate source configuration",
        "description": "Validates source GitHub/ADO connection settings",
        "operationId": "validateSource",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["github", "azuredevops"]
                  },
                  "base_url": {
                    "type": "string"
                  },
                  "token": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/validate-destination": {
      "post": {
        "tags": ["setup"],
        "summary": "Validate destination configuration",
        "description": "Validates destination GitHub connection settings",
        "operationId": "validateDestination",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "base_url": {
                    "type": "string"
                  },
                  "token": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/validate-database": {
      "post": {
        "tags": ["setup"],
        "summary": "Validate database configuration",
        "description": "Validates database connection settings",
        "operationId": "validateDatabase",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["sqlite", "postgresql"]
                  },
                  "dsn": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/setup/apply": {
      "post": {
        "tags": ["setup"],
        "summary": "Apply setup configuration",
        "description": "Writes configuration and restarts the server",
        "operationId": "applySetup",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "source": {
                    "type": "object"
                  },
                  "destination": {
                    "type": "object"
                  },
                  "database": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Configuration applied",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "restart_required": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/discovery/start": {
      "post": {
        "tags": ["discovery"],
        "summary": "Start repository discovery",
        "description": "Start discovery process for an organization or enterprise",
        "operationId": "startDiscovery",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organization": {
                    "type": "string",
                    "description": "Organization name to discover"
                  },
                  "enterprise_slug": {
                    "type": "string",
                    "description": "Enterprise slug for enterprise-wide discovery"
                  },
                  "workers": {
                    "type": "integer",
                    "description": "Number of parallel workers"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Discovery started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "organization": {
                      "type": "string"
                    },
                    "enterprise": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string",
                      "enum": ["organization", "enterprise"]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "503": {
            "$ref": "#/components/responses/ServiceUnavailable"
          }
        }
      }
    },
    "/api/v1/discovery/status": {
      "get": {
        "tags": ["discovery"],
        "summary": "Get discovery status",
        "description": "Get the current status of repository discovery",
        "operationId": "getDiscoveryStatus",
        "responses": {
          "200": {
            "description": "Discovery status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "repositories_found": {
                      "type": "integer"
                    },
                    "completed_at": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/repositories": {
      "get": {
        "tags": ["repositories"],
        "summary": "List repositories",
        "description": "List all repositories with optional filtering and pagination",
        "operationId": "listRepositories",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filter by migration status (comma-separated for multiple)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "batch_id",
            "in": "query",
            "description": "Filter by batch ID",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "source",
            "in": "query",
            "description": "Filter by source system",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "organization",
            "in": "query",
            "description": "Filter by organization (comma-separated for multiple)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "project",
            "in": "query",
            "description": "Filter by ADO project (comma-separated for multiple)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "has_lfs",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_submodules",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_large_files",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_actions",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_wiki",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_pages",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_discussions",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_projects",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_packages",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_environments",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_secrets",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_variables",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_webhooks",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_branch_protections",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_rulesets",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_code_scanning",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_dependabot",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_secret_scanning",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "has_codeowners",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "is_archived",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "is_fork",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "visibility",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["public", "private", "internal"]
            }
          },
          {
            "name": "min_size",
            "in": "query",
            "description": "Minimum repository size in bytes",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "max_size",
            "in": "query",
            "description": "Maximum repository size in bytes",
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "size_category",
            "in": "query",
            "description": "Filter by size category (comma-separated)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "complexity",
            "in": "query",
            "description": "Filter by complexity (comma-separated)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search repositories by name",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sort_by",
            "in": "query",
            "description": "Sort field",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "available_for_batch",
            "in": "query",
            "description": "Filter repositories available for batch assignment",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of repositories",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "repositories": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Repository"
                      }
                    },
                    "total": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/repositories/batch-update": {
      "post": {
        "tags": ["repositories"],
        "summary": "Batch update repository status",
        "description": "Update status for multiple repositories at once",
        "operationId": "batchUpdateRepositoryStatus",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["action"],
                "properties": {
                  "repository_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    }
                  },
                  "full_names": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "action": {
                    "type": "string",
                    "enum": ["mark_migrated", "mark_wont_migrate", "unmark_wont_migrate", "rollback"]
                  },
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch update result",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "updated_count": {
                      "type": "integer"
                    },
                    "failed_count": {
                      "type": "integer"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}": {
      "get": {
        "tags": ["repositories"],
        "summary": "Get repository details",
        "description": "Get detailed information about a specific repository including migration history",
        "operationId": "getRepository",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "responses": {
          "200": {
            "description": "Repository details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "repository": {
                      "$ref": "#/components/schemas/Repository"
                    },
                    "history": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MigrationHistory"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "patch": {
        "tags": ["repositories"],
        "summary": "Update repository",
        "description": "Update repository metadata such as batch assignment and priority",
        "operationId": "updateRepository",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "batch_id": {
                    "type": "integer",
                    "format": "int64",
                    "nullable": true
                  },
                  "priority": {
                    "type": "integer"
                  },
                  "destination_full_name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Repository updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Repository"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}/dependencies": {
      "get": {
        "tags": ["repositories"],
        "summary": "Get repository dependencies",
        "description": "Get dependencies for a specific repository",
        "operationId": "getRepositoryDependencies",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "responses": {
          "200": {
            "description": "Repository dependencies",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "dependencies": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}/rediscover": {
      "post": {
        "tags": ["repositories"],
        "summary": "Re-discover repository",
        "description": "Re-run discovery and profiling for a specific repository",
        "operationId": "rediscoverRepository",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "responses": {
          "202": {
            "description": "Re-discovery started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "full_name": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}/unlock": {
      "post": {
        "tags": ["repositories"],
        "summary": "Unlock repository",
        "description": "Unlock a repository that was locked during migration",
        "operationId": "unlockRepository",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "responses": {
          "200": {
            "description": "Repository unlocked",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "full_name": {
                      "type": "string"
                    },
                    "migration_id": {
                      "type": "integer",
                      "format": "int64"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}/rollback": {
      "post": {
        "tags": ["repositories"],
        "summary": "Rollback migration",
        "description": "Rollback a completed migration",
        "operationId": "rollbackRepository",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Repository rolled back",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "repository": {
                      "$ref": "#/components/schemas/Repository"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}/mark-wont-migrate": {
      "post": {
        "tags": ["repositories"],
        "summary": "Mark repository as won't migrate",
        "description": "Mark or unmark a repository as won't migrate",
        "operationId": "markRepositoryWontMigrate",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "unmark": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Repository marked/unmarked",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "repository": {
                      "$ref": "#/components/schemas/Repository"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/repositories/{fullName}/mark-remediated": {
      "post": {
        "tags": ["repositories"],
        "summary": "Mark repository as remediated",
        "description": "Mark a repository as remediated and trigger re-validation",
        "operationId": "markRepositoryRemediated",
        "parameters": [
          {
            "$ref": "#/components/parameters/fullName"
          }
        ],
        "responses": {
          "202": {
            "description": "Remediation verification started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "full_name": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/organizations": {
      "get": {
        "tags": ["organizations"],
        "summary": "List organizations",
        "description": "Get organization statistics",
        "operationId": "listOrganizations",
        "responses": {
          "200": {
            "description": "List of organizations with statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "organization": {
                        "type": "string"
                      },
                      "repository_count": {
                        "type": "integer"
                      },
                      "total_size": {
                        "type": "integer",
                        "format": "int64"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/organizations/list": {
      "get": {
        "tags": ["organizations"],
        "summary": "Get organization names",
        "description": "Get a simple list of organization names for filters and dropdowns",
        "operationId": "getOrganizationList",
        "responses": {
          "200": {
            "description": "List of organization names",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects": {
      "get": {
        "tags": ["organizations"],
        "summary": "List projects",
        "description": "Get ADO projects with statistics",
        "operationId": "listProjects",
        "responses": {
          "200": {
            "description": "List of projects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "project": {
                        "type": "string"
                      },
                      "organization": {
                        "type": "string"
                      },
                      "repository_count": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/dashboard/action-items": {
      "get": {
        "tags": ["dashboard"],
        "summary": "Get dashboard action items",
        "description": "Get action items and alerts for the dashboard",
        "operationId": "getDashboardActionItems",
        "responses": {
          "200": {
            "description": "Dashboard action items",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "action_items": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/batches": {
      "get": {
        "tags": ["batches"],
        "summary": "List batches",
        "description": "Get all migration batches",
        "operationId": "listBatches",
        "responses": {
          "200": {
            "description": "List of batches",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Batch"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["batches"],
        "summary": "Create batch",
        "description": "Create a new migration batch",
        "operationId": "createBatch",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name"],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Batch created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Batch"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/api/v1/batches/{id}": {
      "get": {
        "tags": ["batches"],
        "summary": "Get batch details",
        "description": "Get detailed information about a specific batch",
        "operationId": "getBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "responses": {
          "200": {
            "description": "Batch details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch": {
                      "$ref": "#/components/schemas/Batch"
                    },
                    "repositories": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Repository"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "patch": {
        "tags": ["batches"],
        "summary": "Update batch",
        "description": "Update batch metadata",
        "operationId": "updateBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "scheduled_at": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Batch"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": ["batches"],
        "summary": "Delete batch",
        "description": "Delete a batch",
        "operationId": "deleteBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "responses": {
          "200": {
            "description": "Batch deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/batches/{id}/start": {
      "post": {
        "tags": ["batches"],
        "summary": "Start batch migration",
        "description": "Start migration for all repositories in a batch",
        "operationId": "startBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "responses": {
          "202": {
            "description": "Batch migration started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch_id": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "batch_name": {
                      "type": "string"
                    },
                    "migration_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer",
                        "format": "int64"
                      }
                    },
                    "count": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/batches/{id}/dry-run": {
      "post": {
        "tags": ["batches"],
        "summary": "Start batch dry run",
        "description": "Start dry run migration for all repositories in a batch",
        "operationId": "dryRunBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "only_pending": {
                    "type": "boolean",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Batch dry run started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch_id": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "batch_name": {
                      "type": "string"
                    },
                    "dry_run_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer",
                        "format": "int64"
                      }
                    },
                    "count": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/batches/{id}/repositories": {
      "post": {
        "tags": ["batches"],
        "summary": "Add repositories to batch",
        "description": "Add repositories to a batch",
        "operationId": "addRepositoriesToBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["repository_ids"],
                "properties": {
                  "repository_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Repositories added",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch": {
                      "$ref": "#/components/schemas/Batch"
                    },
                    "repositories_added": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "tags": ["batches"],
        "summary": "Remove repositories from batch",
        "description": "Remove repositories from a batch",
        "operationId": "removeRepositoriesFromBatch",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["repository_ids"],
                "properties": {
                  "repository_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Repositories removed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch": {
                      "$ref": "#/components/schemas/Batch"
                    },
                    "repositories_removed": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/batches/{id}/retry": {
      "post": {
        "tags": ["batches"],
        "summary": "Retry batch failures",
        "description": "Retry failed migrations in a batch",
        "operationId": "retryBatchFailures",
        "parameters": [
          {
            "$ref": "#/components/parameters/batchId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "repository_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Retry started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch_id": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "retried_count": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/migrations/start": {
      "post": {
        "tags": ["migrations"],
        "summary": "Start migration",
        "description": "Start migration for one or more repositories",
        "operationId": "startMigration",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "repository_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "format": "int64"
                    }
                  },
                  "full_names": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "dry_run": {
                    "type": "boolean",
                    "default": false
                  },
                  "priority": {
                    "type": "integer",
                    "default": 0
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Migration started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "migration_ids": {
                      "type": "array",
                      "items": {
                        "type": "integer",
                        "format": "int64"
                      }
                    },
                    "count": {
                      "type": "integer"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/api/v1/migrations/{id}": {
      "get": {
        "tags": ["migrations"],
        "summary": "Get migration status",
        "description": "Get the current status of a migration",
        "operationId": "getMigrationStatus",
        "parameters": [
          {
            "$ref": "#/components/parameters/migrationId"
          }
        ],
        "responses": {
          "200": {
            "description": "Migration status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "repository_id": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "full_name": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    },
                    "destination_url": {
                      "type": "string",
                      "nullable": true
                    },
                    "migrated_at": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "latest_event": {
                      "$ref": "#/components/schemas/MigrationHistory"
                    },
                    "can_retry": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/v1/migrations/{id}/history": {
      "get": {
        "tags": ["migrations"],
        "summary": "Get migration history",
        "description": "Get complete migration history for a repository",
        "operationId": "getMigrationHistory",
        "parameters": [
          {
            "$ref": "#/components/parameters/migrationId"
          }
        ],
        "responses": {
          "200": {
            "description": "Migration history",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MigrationHistory"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/migrations/{id}/logs": {
      "get": {
        "tags": ["migrations"],
        "summary": "Get migration logs",
        "description": "Get migration logs with optional filtering",
        "operationId": "getMigrationLogs",
        "parameters": [
          {
            "$ref": "#/components/parameters/migrationId"
          },
          {
            "name": "level",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": ["DEBUG", "INFO", "WARN", "ERROR"]
            }
          },
          {
            "name": "phase",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 500
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Migration logs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "logs": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MigrationLog"
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/migrations/history": {
      "get": {
        "tags": ["migrations"],
        "summary": "List migration history",
        "description": "Get list of completed migrations",
        "operationId": "getMigrationHistoryList",
        "responses": {
          "200": {
            "description": "Migration history list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "migrations": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "total": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/migrations/history/export": {
      "get": {
        "tags": ["migrations"],
        "summary": "Export migration history",
        "description": "Export migration history in CSV or JSON format",
        "operationId": "exportMigrationHistory",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["csv", "json"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Migration history export"
          }
        }
      }
    },
    "/api/v1/self-service/migrate": {
      "post": {
        "tags": ["migrations"],
        "summary": "Self-service migration",
        "description": "Orchestrate repository discovery, batch creation, and migration execution",
        "operationId": "selfServiceMigrate",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["repositories", "dry_run"],
                "properties": {
                  "repositories": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "mappings": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    }
                  },
                  "dry_run": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Migration started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "batch_id": {
                      "type": "integer",
                      "format": "int64"
                    },
                    "batch_name": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "total_repositories": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/api/v1/analytics/summary": {
      "get": {
        "tags": ["analytics"],
        "summary": "Get analytics summary",
        "description": "Get comprehensive analytics summary",
        "operationId": "getAnalyticsSummary",
        "parameters": [
          {
            "name": "organization",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "batch_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Analytics summary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total_repositories": {
                      "type": "integer"
                    },
                    "migrated_count": {
                      "type": "integer"
                    },
                    "failed_count": {
                      "type": "integer"
                    },
                    "pending_count": {
                      "type": "integer"
                    },
                    "success_rate": {
                      "type": "number"
                    },
                    "status_breakdown": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analytics/progress": {
      "get": {
        "tags": ["analytics"],
        "summary": "Get migration progress",
        "description": "Get migration progress statistics",
        "operationId": "getMigrationProgress",
        "responses": {
          "200": {
            "description": "Migration progress",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer"
                    },
                    "status_breakdown": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analytics/executive-report": {
      "get": {
        "tags": ["analytics"],
        "summary": "Get executive report",
        "description": "Get comprehensive executive-level migration progress report",
        "operationId": "getExecutiveReport",
        "parameters": [
          {
            "name": "organization",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "batch_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Executive report data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "executive_summary": {
                      "type": "object"
                    },
                    "velocity_metrics": {
                      "type": "object"
                    },
                    "organization_progress": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "risk_analysis": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/analytics/executive-report/export": {
      "get": {
        "tags": ["analytics"],
        "summary": "Export executive report",
        "description": "Export executive report in CSV or JSON format",
        "operationId": "exportExecutiveReport",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["csv", "json"]
            }
          },
          {
            "name": "organization",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "batch_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Executive report export"
          }
        }
      }
    },
    "/api/v1/analytics/detailed-discovery-report/export": {
      "get": {
        "tags": ["analytics"],
        "summary": "Export detailed discovery report",
        "description": "Export detailed discovery report with all repository data",
        "operationId": "exportDetailedDiscoveryReport",
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "enum": ["csv", "json"]
            }
          },
          {
            "name": "organization",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "project",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "batch_id",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Detailed discovery report export"
          }
        }
      }
    },
    "/api/v1/ado/discover": {
      "post": {
        "tags": ["ado"],
        "summary": "Start ADO discovery",
        "description": "Start repository discovery for Azure DevOps",
        "operationId": "startADODiscovery",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "organization": {
                    "type": "string"
                  },
                  "project": {
                    "type": "string"
                  },
                  "workers": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Discovery started",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ado/discovery/status": {
      "get": {
        "tags": ["ado"],
        "summary": "Get ADO discovery status",
        "description": "Get the current status of ADO repository discovery",
        "operationId": "getADODiscoveryStatus",
        "responses": {
          "200": {
            "description": "Discovery status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "repositories_found": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ado/projects": {
      "get": {
        "tags": ["ado"],
        "summary": "List ADO projects",
        "description": "Get all Azure DevOps projects",
        "operationId": "listADOProjects",
        "responses": {
          "200": {
            "description": "List of ADO projects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "organization": {
                        "type": "string"
                      },
                      "repository_count": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ado/projects/{organization}/{project}": {
      "get": {
        "tags": ["ado"],
        "summary": "Get ADO project",
        "description": "Get details for a specific ADO project",
        "operationId": "getADOProject",
        "parameters": [
          {
            "name": "organization",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "project",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ADO project details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Repository": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "full_name": {
            "type": "string"
          },
          "source": {
            "type": "string"
          },
          "source_url": {
            "type": "string"
          },
          "total_size": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "has_lfs": {
            "type": "boolean"
          },
          "has_submodules": {
            "type": "boolean"
          },
          "has_large_files": {
            "type": "boolean"
          },
          "has_actions": {
            "type": "boolean"
          },
          "has_wiki": {
            "type": "boolean"
          },
          "has_pages": {
            "type": "boolean"
          },
          "has_discussions": {
            "type": "boolean"
          },
          "has_projects": {
            "type": "boolean"
          },
          "is_archived": {
            "type": "boolean"
          },
          "status": {
            "type": "string"
          },
          "batch_id": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "priority": {
            "type": "integer"
          },
          "complexity_score": {
            "type": "integer"
          },
          "destination_url": {
            "type": "string",
            "nullable": true
          },
          "discovered_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "migrated_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "Batch": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string"
          },
          "repository_count": {
            "type": "integer"
          },
          "status": {
            "type": "string",
            "enum": ["ready", "in_progress", "complete", "failed"]
          },
          "scheduled_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "MigrationHistory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "repository_id": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "string"
          },
          "phase": {
            "type": "string"
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "error_message": {
            "type": "string",
            "nullable": true
          },
          "started_at": {
            "type": "string",
            "format": "date-time"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "duration_seconds": {
            "type": "integer",
            "nullable": true
          }
        }
      },
      "MigrationLog": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "repository_id": {
            "type": "integer",
            "format": "int64"
          },
          "level": {
            "type": "string",
            "enum": ["DEBUG", "INFO", "WARN", "ERROR"]
          },
          "phase": {
            "type": "string"
          },
          "operation": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "login": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "avatar_url": {
            "type": "string"
          },
          "is_enterprise_admin": {
            "type": "boolean"
          },
          "is_privileged": {
            "type": "boolean"
          }
        }
      },
      "ValidationResponse": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "details": {
            "type": "object"
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          }
        }
      }
    },
    "parameters": {
      "fullName": {
        "name": "fullName",
        "in": "path",
        "required": true,
        "description": "Repository full name (org/repo)",
        "schema": {
          "type": "string"
        }
      },
      "batchId": {
        "name": "id",
        "in": "path",
        "required": true,
        "description": "Batch ID",
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      },
      "migrationId": {
        "name": "id",
        "in": "path",
        "required": true,
        "description": "Migration/Repository ID",
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Bad request",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "NotFound": {
        "description": "Resource not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "ServiceUnavailable": {
        "description": "Service unavailable",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      }
    }
  }
}
