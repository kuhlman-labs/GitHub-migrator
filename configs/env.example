# GitHub Migration Server - Environment Variables Template
# Copy this file to .env in the project root and fill in your values

# =============================================================================
# GitHub Tokens
# =============================================================================

# Source GitHub Token (GitHub Enterprise Server)
# Required scopes: repo, read:org, read:user
GITHUB_SOURCE_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Source GitHub Base URL
GITHUB_SOURCE_URL=https://github.company.com/api/v3

# Source GitHub GraphQL URL
GITHUB_SOURCE_GRAPHQL_URL=https://github.company.com/api/graphql

# Destination GitHub Token (GitHub Enterprise Cloud)
# Required scopes: repo, admin:org, workflow
GITHUB_DEST_TOKEN=ghp_yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy

# Destination GitHub Base URL
GITHUB_DEST_URL=https://api.github.com

# Destination GitHub GraphQL URL  
GITHUB_DEST_GRAPHQL_URL=https://api.github.com/graphql

# =============================================================================
# Server Configuration
# =============================================================================

# Server port
GHMIG_SERVER_PORT=8080

# =============================================================================
# Database Configuration
# =============================================================================

# Database type: sqlite or postgresql
GHMIG_DATABASE_TYPE=sqlite

# Database DSN (Data Source Name)
# SQLite example:
GHMIG_DATABASE_DSN=./data/migrator.db

# PostgreSQL example:
# GHMIG_DATABASE_DSN=postgres://user:password@localhost:5432/migrator?sslmode=disable

# Alternative: Full PostgreSQL URL
# DATABASE_URL=postgres://migrator_user:secure_password@localhost:5432/migrator?sslmode=require

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: debug, info, warn, error
GHMIG_LOGGING_LEVEL=info

# Log format: json or text
GHMIG_LOGGING_FORMAT=json

# Log output file
GHMIG_LOGGING_OUTPUT_FILE=./logs/migrator.log

# =============================================================================
# Migration Configuration
# =============================================================================

# Number of parallel migration workers
GHMIG_MIGRATION_WORKERS=5

# Number of parallel discovery workers
GHMIG_DISCOVERY_WORKERS=10

# =============================================================================
# Optional: Advanced Configuration
# =============================================================================

# Migration timeout (default: 60m)
# GHMIG_MIGRATION_TIMEOUT=60m

# Discovery timeout (default: 2h)
# GHMIG_DISCOVERY_TIMEOUT=2h

# GitHub rate limit (default: 5000)
# GHMIG_GITHUB_RATE_LIMIT=5000

# Retry max attempts (default: 5)
# GHMIG_RETRY_MAX_ATTEMPTS=5

# Circuit breaker threshold (default: 5)
# GHMIG_CIRCUIT_BREAKER_THRESHOLD=5

